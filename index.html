<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Daily Diary Records</title>
<style>
    body {
        font-family: "Times New Roman", serif;
        margin: 40px;
        line-height: 1.6;
        background: #fafafa;
    }
    h1 {
        text-align: center;
        text-transform: uppercase;
        letter-spacing: 2px;
        margin-bottom: 40px;
    }
    .entry {
        background: white;
        border: 1px solid #ddd;
        padding: 20px;
        margin-bottom: 25px;
        border-radius: 6px;
        box-shadow: 0 1px 3px rgba(0,0,0,0.08);
    }
    .download-btn {
        margin-top: 10px;
        padding: 6px 12px;
        border: 1px solid #333;
        background: white;
        cursor: pointer;
        border-radius: 4px;
    }
</style>
</head>
<body>

<h1>GNDEC Training Diary â€“ Daily Records</h1>

<div id="content"></div>

<script>
// List all txt files
const files = [
    "day1.txt","day2.txt","day3.txt","day4.txt","day5.txt",
    "day6.txt","day7.txt","day8.txt","day9.txt","day10.txt",
    "day11.txt","day12.txt","day13.txt","day14.txt","day15.txt",
    "day16.txt","day17.txt","day18.txt","day19.txt","day20.txt",
    "day21.txt","day22.txt","day23.txt"
];

// Fetch each file
files.forEach(file => {
    fetch(file)
        .then(res => res.text())
        .then(text => {
            addEntry(file, text);
        })
        .catch(err => {
            console.error("Error loading", file, err);
        });
});

// Add entry to page + PDF download
function addEntry(filename, text) {
    const container = document.getElementById("content");

    const div = document.createElement("div");
    div.className = "entry";

    const title = `<h2>${filename.replace(".txt", "").toUpperCase()}</h2>`;

    const body = `<pre style="white-space: pre-wrap; font-size: 16px;">${text}</pre>`;

    const button = `<button class="download-btn" onclick="downloadPDF('${filename}', \`${text.replace(/`/g,"\\`")}\`)">Download PDF</button>`;

    div.innerHTML = title + body + button;

    container.appendChild(div);
}

// PDF Generation
function downloadPDF(filename, content) {
    const pdfWindow = window.open("", "_blank");
    pdfWindow.document.write("<pre>" + content + "</pre>");
    pdfWindow.print();
}
</script>

</body>
</html>
