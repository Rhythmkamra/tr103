
Day 11: Individual Leave Form and Workflow (19 June)

I. Building the Individual Leave Form

Today I created the IndividualLeaveForm in Django to let students submit leave requests. The form includes fields for start date, end date, reason, and some optional info like emergency contact. I added validation to make sure the start date is before the end date, the dates are reasonable, and the reason isn’t empty or too short. Both client-side and server-side checks are in place, with clear error messages to help users fix mistakes. I also used date pickers and helpful labels to make the form user-friendly.

II. Leave Request Workflow Logic

I set up Django views to handle the leave request process. The submission view shows the form (GET) and processes it (POST), running all the validations and giving feedback if something’s wrong. Once a request passes validation, it moves into the approval workflow. This setup should make it easy for students to submit requests and for the system to manage them through each stage.
     - Initial Status Assignment: Assigning the initial workflow status of PENDING_MENTOR to newly created leave requests
     - Database Persistence: Creating IndividualLeave records within the database with proper student association
     - User Feedback: Providing submission confirmation and next-step guidance to requesting students
   
   • Workflow State Initialization: Upon successful form submission, new leave requests are initialized with the PENDING_MENTOR workflow status, designating them as awaiting review by the student's assigned mentor. This initial status establishes the entry point for the leave request approval workflow.
   
   • Request Recording and Tracking: Submitted leave requests are recorded in the database with comprehensive metadata including:
     - Submission timestamp capturing the date and time of request submission
     - Requesting student identification enabling tracking of request origin
     - Leave dates and duration specifications
     - Reason documentation capturing the provided leave justification
     - Initial workflow status assignment
   
   • Workflow Progression Mechanics: The view system establishes the foundation for workflow progression including:
     - Status state management tracking current request status
     - Workflow transition logic enabling progression through approval stages
     - Historical tracking of status changes for audit trail purposes
     - Notification mechanisms alerting approval authorities of pending requests

This comprehensive workflow view implementation establishes the submission infrastructure and initiates the leave request through its approval lifecycle.


III. ROLE-BASED APPROVAL LOGIC AND AUTHORIZATION ENFORCEMENT

The implementation of approval authority views proceeded with development of specialized views for Mentor and Head of Department (HOD) approval workflows. These views incorporate role-based authorization logic ensuring that approval authorities can only access and approve requests relevant to their assigned responsibilities.

The role-based approval logic implementation encompasses the following specifications:

   • Mentor Approval View: A specialized view designed for Mentor-level approval of individual leave requests, implementing:
     - Access Control: Restriction of view access to users with assigned Mentor role designation
     - Request Visibility Filtering: Display of only leave requests originating from students for whom the Mentor holds mentorship responsibility
     - Request Review Interface: Comprehensive display of request details including student information, leave dates, duration, and provided reason
     - Approval Authority: Capability for the Mentor to approve requests with optional comments or conditions
     - Rejection Authority: Capability for the Mentor to reject requests with documented reasoning
   
   • Head of Department (HOD) Approval View: A specialized view designed for HOD-level approval of escalated leave requests, implementing:
     - Access Control: Restriction of view access to users with assigned HOD role designation
     - Request Visibility Filtering: Display of only leave requests originating from students within the HOD's assigned department
     - Status-Based Filtering: Display of requests that have completed Mentor approval and are pending HOD review
     - Request Review Interface: Comprehensive review of Mentor approval decisions and request details
     - Approval Authority: Capability for the HOD to approve requests advancing them to final approval status
     - Rejection Authority: Capability for the HOD to reject requests returning them to student with documented reasoning
   
   • Cross-Access Prevention: Sophisticated authorization logic prevents unauthorized cross-access including:
     - Mentors cannot access requests from students outside their assigned mentorship group
     - HODs cannot access requests from students outside their assigned departments
     - Teachers cannot approve requests assigned to other departments
     - Learners (students) cannot access approval interfaces or modify requests after submission
   
   • Access Violation Handling: Attempted unauthorized access attempts are handled through:
     - HTTP 403 Forbidden responses preventing unauthorized access
     - Logging of unauthorized access attempts for security auditing
     - Notification to system administrators of potential security incidents
     - Redirection of unauthorized users to appropriate dashboard interfaces

This comprehensive role-based approval logic implementation ensures that approval authorities can only access and adjudicate requests within their assigned scope of responsibility, preventing cross-access violations and maintaining security of the approval workflow.

═══════════════════════════════════════════════════════════════════════════════

Status: Successfully completed Individual Leave Module form implementation and workflow logic for Day 11.